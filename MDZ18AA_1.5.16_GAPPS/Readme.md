# Google Apps (НеТВ) для MDZ-18-AA (MiBox 3 Enhanced)
## (комплект для рутирования, локализации/русификации приложений и голосового ввода, очистки от лишнего софта, установки Play Market)



♦ Что включено в набор

1. Набор необходимого софта для выполнения всех операций (Kingroot 4.8 + скрипты для замены на Supersu; StartSettings.apk для запуска оригинального интерфейса настроек Android; Morelocale - нам не понадобится, нужен иностранцам; SManager для запуска скриптов)
2. Рут
3. Набор стандартных приложений MiBox3, адаптированных под мультиязычность
4. Набор приложений Google Apps (Play Market, Google Services Framework, Google Login)
5. Nova Launcher (чтобы не захламлять приставку рекламой, которую устанавливает стандартный лаунчер)


♦ Что работает

1. Обои и стандартный статусбар Android
2. Nova Launcher
3. Минимальный набор приложений Google - расширяется установкой остальных приложений из маркета
4. Все (или почти все), что работало изначально на китайской прошивке

♦ Что не работает

1. Google Cast / Chromecast Built-In
2. В этой версии достаточно криво работает голосовой поиск (1к + 1д). Распознавание и ввод голосом работают сносно (2к + 1д)

♦ Установка

Распаковка и копирование набора с использованием MAC OS X неминуемо приведет к неправильной работе и бутлупам. (используйте либо кастомные распаковщики, либо винду). Причина - Mac создает кучу файлов со служебной информацией.

1. Подготовка Скачайте и распакуйте версию пакета, соответствующую версии вашей прошивки, на флеш-накопитель. Папка должна иметь имя MDZ18AA_[ВерсияПрошивки] и содержать только 3 папки (0_APPS, 1_ROOT, 2_GAPPS). Учтите, что при распаковке архива на Mac вы получите папку MDZ18AA_[ВерсияПрошивки], внутри которой будет лежать папка MDZ18AA_[ВерсияПрошивки], а так быть не должно, иначе скрипты не смогут работать и получите бутлуп.
2. Сброс приставки к заводским настройкам. Сбросьте прошивку удобным для вас способом: через восстановление заводской прошивки через рекавери с последующим автоматическим обновлением или методом оффлайн-обновления  
3. Открытие накопителя. После сброса прошивки и полной загрузки приставки, подключите к ней флеш-накопитель с набором. Откройте содержимое накопителя (MiTVMediaExplorer подойдет)
4. Установка английского языка. Зайдите в папку 0_APPS набора и запустите установку 1_Settings_1.0.apk.
После сброса приставки установка сторонних приложений будет заблокирована, разблокируйте ее, нажав в окне установки на левую кнопку, затем в китайских настройках курсор будет автоматически установлен на нужную позицию. Нажмите кнопку Влево или Вправо на пульте ДУ. В появившемся всплывающем диалоговом окне нажмите левую кнопку. Выйдите из настроек и снова запустите установку нужного приложения. После его установки нажмите правую кнопку в диалоговом окне и в открывшихся настройках выставьте English в первом пункте меню выбора языка (иконка раздела настроек - глобус).
5. Получение root. Выйдите из настроек Android, вернувшись в папку 0_APPS. Запустите установку Kingroot, запустив файл 2_KingRoot_4.8.0.apk, а затем откройте его. Пройдите стандартную процедуру рутирования данным приложением и согласившись на установку приложений, которую вам предложит Kingroot. Затем вновь вернитесь в папку с набором приложений.
6. Копирование набора на внутренний накопитель, замена Kingroot на SuperSu. Установите из набора приложение 3_SManager_3.0.4.apk. Запустите его и выберите в появившемся диалоговом окне "Browse as root". Перейдите в приложении на накопитель (он расположен в /storage/usbotg/[название раздела накопителя]), попутно разрешив root-доступ в диалоговом окне Kingroot. Скопируйте всю папку с набором, нажав при помощи мыши или пульта на ней и удерживая до появления меню. Перейдите в /sdcard (внутренний накопитель, полный его путь - /storage/emulated/legacy) и нажмите в нижней части приложения "Select this directory" (установка работает только с внутреннего накопителя в силу различий в именовании разделов флешек). После завершения копирования набора на внутренний накопитель, войдите в папку 1_ROOT внутри набора и тапните по скрипту с именем SuperSU.sh. Отметьте в открывшемся окне свойств иконку зеленого робота (выполнение с root-правами) и запустите скрипт, нажав RUN в верхней части экрана. Дождитесь завершения установки, разрешив установку приложения SuperSU. После окончания процесса SuperSU автоматически запустится. Выберите наиболее удобный вам режим (рекомендуется Expert) и подтвердите обновление файла SU, выбрав нормальную установку (Normal). После обновления исполняемого файла подтвердите перезагрузку приставки.
7. Установка Gapps. После перезагрузки приставки вновь запустите Smanager из меню приложений приставки. Перейдите на внутренний накопитель (по умолчанию открывается именно его содержимое) и в папку набора на нем. Возможно, появится запрос от SuperSu, дайте приложению доступ. В папке с набором войдите в папку 2_GAPPS и, аналогично предыдущему пункту, запустите выполнение скрипта Gapps.sh с правами SU. Дождитесь окончания установки. Приставка автоматически перезагрузится. При первом запуске получите запрос на выбор лаунчера. Крайне рекомендую выбирать Nova на данном этапе.
8. Очистка данных. Крайне рекомендуется пройти и этот шаг для избавления от кучи мусора, оставшегося в памяти приставки от китайских рекламных сервисов. Дождитесь завершения первого запуска после установки Gapps, а затем перезагрузите приставку с зажатыми кнопками ОК + Назад. После входа в рекавери выберите пункт Wipe all data и подтвердите сброс. После сброса данных перезагрузите приставку и дождитесь экрана начальной настройки. Пройдите стандартные процедуры настройки и радуйтесь жизни!